package com.hb.test;

import org.hibernate.Transaction;

import java.util.Scanner;

import org.hibernate.Session;
import org.hibernate.SessionFactory;

import com.hb.entity.User;
import com.hb.util.HibernateUtil;

public class Test {
	SessionFactory sessionFactory = HibernateUtil.getSessionFactory();
	Session session = sessionFactory.openSession();
	Transaction transaction = session.beginTransaction();

	/* Add User */
	void addUser() {
		User user = new User();
		Scanner sc = new Scanner(System.in);
		System.out.println("Enter user details:");
		System.out.println("Enter id:");
		user.setId(sc.nextInt());
		System.out.println("Enter First Name:");
		user.setFirstName(sc.next());
		System.out.println("Enter Last Name:");
		user.setLastName(sc.next());
		session.save(user);
		transaction.commit();
		session.close();
		sc.close();
	}

	private void viewAllUsers() {

	}

	/* View User */
	private void viewUser() {
		Scanner sc = new Scanner(System.in);
		System.out.println("Enter userid");
		User user = session.get(User.class, sc.nextInt());
		System.out.println("User id=" + user.getId());
		System.out.println("User First Name=" + user.getFirstName());
		System.out.println("User Last Name=" + user.getLastName());
	}

	private void updateUser() {
		// TODO Auto-generated method stub

	}

	/* Delete User */
	private void delateuser() {
		Scanner sc = new Scanner(System.in);
		System.out.println("Enter userid");
		session.delete(sc.nextInt());
	}

	public static void main(String[] args) {
		System.out.println("Select your choice");
		System.out.println("1:Add User 2:Delete User 3:Update User 4:View User 5:View All Users");
		Scanner sc = new Scanner(System.in);
		Test t = new Test();
		int i = sc.nextInt();
		switch (i) {
		case 1:
			t.addUser();
			System.out.println("User added successfully...");
			break;
		case 2:
			t.delateuser();
			break;
		case 3:
			t.updateUser();
			break;
		case 4:
			t.viewUser();
			break;
		case 5:
			t.viewAllUsers();
			break;
		default:
			System.out.println("Wrong choice");

		}
	}

}
